import os
import zipfile
import urllib.request
import numpy as np
import pandas as pd

DATA_URL = "https://archive.ics.uci.edu/ml/machine-learning-databases/00240/UCI%20HAR%20Dataset.zip"
ZIP_NAME = "UCI_HAR_Dataset.zip"
DATA_DIR = "UCI HAR Dataset"

if not os.path.exists(DATA_DIR):
    urllib.request.urlretrieve(DATA_URL, ZIP_NAME)
    with zipfile.ZipFile(ZIP_NAME, "r") as zip_ref:
        zip_ref.extractall()
    os.remove(ZIP_NAME)

SIGNAL_PATH = os.path.join(DATA_DIR, "train", "Inertial Signals")

acc_x = pd.read_csv(
    os.path.join(SIGNAL_PATH, "body_acc_x_train.txt"),
    delim_whitespace=True,
    header=None
).values

acc_y = pd.read_csv(
    os.path.join(SIGNAL_PATH, "body_acc_y_train.txt"),
    delim_whitespace=True,
    header=None
).values

acc_z = pd.read_csv(
    os.path.join(SIGNAL_PATH, "body_acc_z_train.txt"),
    delim_whitespace=True,
    header=None
).values

acc_magnitude = np.sqrt(acc_x**2 + acc_y**2 + acc_z**2)
velocity_proxy = np.mean(acc_magnitude)
altitude_proxy = np.mean(acc_z)

if altitude_proxy > 0:
    robot_type = "Aerial Autonomous Robot"
    industry = "NVIDIA Jetson Drone Systems"
else:
    robot_type = "Ground Robot"
    industry = "Ground Robotics"

print("Velocity Proxy :", round(velocity_proxy, 4))
print("Altitude Proxy :", round(altitude_proxy, 4))
print("Robot Type     :", robot_type)
print("Industry       :", industry)
